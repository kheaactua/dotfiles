function init_ssh_agent()
{
	# From eval `ssh-agent`
	export SSH_AUTH_SOCK=/tmp/ssh-agent.$(hostname).sock
	ssh-add -l 2>/dev/null >/dev/null
	if [ $? -ge 2 ]; then
	  ssh-agent -a "$SSH_AUTH_SOCK" >/dev/null
	fi
	if [[ -z "$SSH_AGENT_PID" ]]; then
		export SSH_AGENT_PID=$(pidof ssh-agent)
	fi

	# fd 'id_rsa' -E '*.pub' ~/dotfiles/dotfiles-secret -x ssh-add
	ssh-add /home/matt/dotfiles/dotfiles-secret/ford/keys/ssh/id_rsa-github.ford.com

	# TODO https://rabexc.org/posts/pitfalls-of-ssh-agents might have a better way to do this
}

# vim: sw=4 sts=0 ts=4 noet ff=unix :
